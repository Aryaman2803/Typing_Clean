{"ast":null,"code":"import _asyncToGenerator from\"C:/WEBDEV/Typing/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/WEBDEV/Typing/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\WEBDEV\\\\Typing\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{convertToRaw,EditorState}from'draft-js';import axios from'axios';import'./Dashboard.css';import EditorComp from'../../Hooks/DraftEditor';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddNote(_ref){var setCheckIfNewNoteAdded=_ref.setCheckIfNewNoteAdded;var _useState=useState(function(){return EditorState.createEmpty();}),_useState2=_slicedToArray(_useState,2),editorState=_useState2[0],setEditorState=_useState2[1];var _useState3=useState(function(){return EditorState.createEmpty();}),_useState4=_slicedToArray(_useState3,2),editorStateTitle=_useState4[0],setEditorStateTitle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),checkIfNoteEdited=_useState6[0],setCheckIfNoteEdited=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),DisplayNote=_useState8[0],setDisplayNote=_useState8[1];var submitNote=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(checkIfNoteEdited&&(editorStateTitle.getCurrentContent().hasText()||editorState.getCurrentContent().hasText()))){_context.next=7;break;}_context.next=3;return axios.post('/api/dashboard/notes',{title:JSON.stringify(convertToRaw(editorStateTitle.getCurrentContent())),body:JSON.stringify(convertToRaw(editorState.getCurrentContent()))});case 3:setEditorState(EditorState.createEmpty());setEditorStateTitle(EditorState.createEmpty());setCheckIfNewNoteAdded(true);setCheckIfNoteEdited(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return function submitNote(){return _ref2.apply(this,arguments);};}();var clearNote=function clearNote(){setEditorState(EditorState.createEmpty());setEditorStateTitle(EditorState.createEmpty());setCheckIfNoteEdited(false);setDisplayNote(false);};function expandContainer(){setDisplayNote(true);}function collapseContainer(e){if(!editorStateTitle.getCurrentContent().hasText()&&!editorState.getCurrentContent().hasText()){setDisplayNote(false);}}return/*#__PURE__*/_jsx(\"section\",{className:\"addNote-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:DisplayNote?'addNote-container addNote-Body-padding-open':' addNote-container addNote-Body-padding-close ',onBlur:collapseContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:\"addNote-Title\",style:{display:DisplayNote?'block':'none'},children:/*#__PURE__*/_jsx(EditorComp,{editorState:editorStateTitle,setEditorState:setEditorStateTitle,placeholderText:\"Title\",setCheckIfNoteEdited:setCheckIfNoteEdited,showToolbar:false})}),/*#__PURE__*/_jsx(\"div\",{className:\"addNote-Body\",onClick:expandContainer,children:/*#__PURE__*/_jsx(EditorComp,{editorState:editorState,setEditorState:setEditorState,placeholderText:\"Start typing...\",setCheckIfNoteEdited:setCheckIfNoteEdited,showToolbar:true,submitNote:submitNote,clearNote:clearNote,DisplayNote:DisplayNote})})]})});}","map":{"version":3,"sources":["C:/WEBDEV/Typing/client/src/Components/Dashboard/AddNote.js"],"names":["React","useState","convertToRaw","EditorState","axios","EditorComp","AddNote","setCheckIfNewNoteAdded","createEmpty","editorState","setEditorState","editorStateTitle","setEditorStateTitle","checkIfNoteEdited","setCheckIfNoteEdited","DisplayNote","setDisplayNote","submitNote","getCurrentContent","hasText","post","title","JSON","stringify","body","clearNote","expandContainer","collapseContainer","e","display"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { convertToRaw, EditorState } from 'draft-js'\r\nimport axios from 'axios'\r\nimport './Dashboard.css'\r\nimport EditorComp from '../../Hooks/DraftEditor'\r\n\r\nexport default function AddNote({ setCheckIfNewNoteAdded }) {\r\n  const [editorState, setEditorState] = useState(() =>\r\n    EditorState.createEmpty()\r\n  )\r\n  const [editorStateTitle, setEditorStateTitle] = useState(() =>\r\n    EditorState.createEmpty()\r\n  )\r\n\r\n  const [checkIfNoteEdited, setCheckIfNoteEdited] = useState(false)\r\n  const [DisplayNote, setDisplayNote] = useState(false)\r\n\r\n  const submitNote = async () => {\r\n    if (\r\n      checkIfNoteEdited &&\r\n      (editorStateTitle.getCurrentContent().hasText() ||\r\n        editorState.getCurrentContent().hasText())\r\n    ) {\r\n      await axios.post('/api/dashboard/notes', {\r\n        title: JSON.stringify(\r\n          convertToRaw(editorStateTitle.getCurrentContent())\r\n        ),\r\n        body: JSON.stringify(convertToRaw(editorState.getCurrentContent())),\r\n      })\r\n      setEditorState(EditorState.createEmpty())\r\n      setEditorStateTitle(EditorState.createEmpty())\r\n\r\n      setCheckIfNewNoteAdded(true)\r\n      setCheckIfNoteEdited(false)\r\n    }\r\n  }\r\n  const clearNote = () => {\r\n    setEditorState(EditorState.createEmpty())\r\n    setEditorStateTitle(EditorState.createEmpty())\r\n    setCheckIfNoteEdited(false)\r\n    setDisplayNote(false)\r\n  }\r\n\r\n  function expandContainer() {\r\n    setDisplayNote(true)\r\n  }\r\n\r\n  function collapseContainer(e) {\r\n    if (\r\n      !editorStateTitle.getCurrentContent().hasText() &&\r\n      !editorState.getCurrentContent().hasText()\r\n    ) {\r\n      setDisplayNote(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className='addNote-wrapper'>\r\n      <div\r\n        className={\r\n          DisplayNote\r\n            ? 'addNote-container addNote-Body-padding-open'\r\n            : ' addNote-container addNote-Body-padding-close '\r\n        }\r\n        onBlur={collapseContainer}\r\n      >\r\n        <div\r\n          className='addNote-Title'\r\n          style={{ display: DisplayNote ? 'block' : 'none' }}\r\n        >\r\n          <EditorComp\r\n            editorState={editorStateTitle}\r\n            setEditorState={setEditorStateTitle}\r\n            placeholderText='Title'\r\n            setCheckIfNoteEdited={setCheckIfNoteEdited}\r\n            showToolbar={false}\r\n          />\r\n        </div>\r\n        <div className='addNote-Body' onClick={expandContainer}>\r\n          <EditorComp\r\n            editorState={editorState}\r\n            setEditorState={setEditorState}\r\n            placeholderText='Start typing...'\r\n            setCheckIfNoteEdited={setCheckIfNoteEdited}\r\n            showToolbar={true}\r\n            submitNote={submitNote}\r\n            clearNote={clearNote}\r\n            DisplayNote={DisplayNote}\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}