{"ast":null,"code":"import _asyncToGenerator from\"C:/WEBDEV/Typing/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/WEBDEV/Typing/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/WEBDEV/Typing/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/WEBDEV/Typing/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\WEBDEV\\\\Typing\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import Button from'@mui/material/Button';import Grid from'@mui/material/Grid';import TextField from'@mui/material/TextField';import Box from'@mui/material/Box';import LockIcon from'@mui/icons-material/Lock';import LoginIcon from'@mui/icons-material/Login';import EmailIcon from'@mui/icons-material/Email';import Navbar from'../Home/Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(_ref){var setToken=_ref.setToken;var navigate=useNavigate();var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var email=formData.email,password=formData.password;var onChange=function onChange(e){setError('');setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var loginUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){var URL,data,_error$response,_error$response$data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;URL='/api/login';// const URL = 'http://localhost:3000/api/login'\n_context.next=4;return axios.post(URL,{email:email,password:password});case 4:data=_context.sent;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0===null||_context.t0===void 0?void 0:(_error$response=_context.t0.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function loginUser(_x,_x2){return _ref2.apply(this,arguments);};}();var onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _response$data;var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(email===''||password==='')){_context2.next=4;break;}setError('Please enter all fields');return _context2.abrupt(\"return\");case 4:_context2.next=6;return loginUser(email,password);case 6:response=_context2.sent;if(response!==null&&response!==void 0&&(_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.token){// localStorage.setItem('user', JSON.stringify(response.data))\nsetFormData({email:'',password:''});navigate('/api/dashboard');}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"section\",{style:{boxSizing:'border-box',minHeight:'90vh',display:'flex',justifyContent:'center',alignItems:'center',backgroundColor:'#FAF9F6'},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:onSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"white\",sx:{width:{xs:350,sm:400},height:{xs:500,sm:500},boxShadow:1},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-end',p:0.5,m:1},children:[/*#__PURE__*/_jsx(EmailIcon,{sx:{color:'action.active',mr:1,my:0.5}}),/*#__PURE__*/_jsx(TextField,{id:\"input-with-sx1\",type:\"email\",label:\"Email\",variant:\"standard\",name:\"email\",value:email,onChange:onChange,sx:{width:{xs:220,sm:280}}})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-end',p:0.5,m:1},children:[/*#__PURE__*/_jsx(LockIcon,{sx:{color:'action.active',mr:1,my:0.5}}),/*#__PURE__*/_jsx(TextField,{id:\"input-with-sx\",type:\"password\",label:\"Password\",autoComplete:\"input-with-sx\",variant:\"standard\",name:\"password\",value:password,onChange:onChange,sx:{width:{xs:220,sm:280}}})]}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",size:\"medium\",variant:\"contained\",endIcon:/*#__PURE__*/_jsx(LoginIcon,{}),sx:{width:120,mt:2},disabled:!email||!password,children:[\"Login\",' ']}),/*#__PURE__*/_jsx(\"div\",{style:{height:'20px',marginTop:'0.5rem',color:'red'},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',textAlign:'right',marginTop:'1.5rem',fontSize:'0.8rem'},children:/*#__PURE__*/_jsx(\"span\",{style:{paddingRight:'1rem'},children:\" Forgot Password?\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem'},children:[\"Need an account?\",/*#__PURE__*/_jsx(\"span\",{style:{paddingLeft:'5px',textDecoration:'underline',cursor:'pointer'},onClick:function onClick(e){navigate('/signup');},children:\"SIGN UP\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',marginTop:'1rem',letterSpacing:'1px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Use demo credentials \"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',margin:'5px 0'},children:\"Email: tom3@gmail.com\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px'},children:\"Password: tom\"})]})]})]})]})})})]});}export default Login;","map":{"version":3,"sources":["C:/WEBDEV/Typing/client/src/Components/Login/Login.js"],"names":["axios","React","useState","useNavigate","Button","Grid","TextField","Box","LockIcon","LoginIcon","EmailIcon","Navbar","Login","setToken","navigate","email","password","formData","setFormData","error","setError","onChange","e","prevState","target","name","value","loginUser","URL","post","data","response","message","onSubmit","preventDefault","token","boxSizing","minHeight","display","justifyContent","alignItems","backgroundColor","width","xs","sm","height","boxShadow","p","m","color","mr","my","mt","marginTop","textAlign","fontSize","paddingRight","paddingLeft","textDecoration","cursor","letterSpacing","fontWeight","margin"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Button from '@mui/material/Button'\r\nimport Grid from '@mui/material/Grid'\r\nimport TextField from '@mui/material/TextField'\r\nimport Box from '@mui/material/Box'\r\nimport LockIcon from '@mui/icons-material/Lock'\r\nimport LoginIcon from '@mui/icons-material/Login'\r\nimport EmailIcon from '@mui/icons-material/Email'\r\nimport Navbar from '../Home/Navbar'\r\n\r\nfunction Login({ setToken }) {\r\n  const navigate = useNavigate()\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  })\r\n  const [error, setError] = useState('')\r\n  const { email, password } = formData\r\n  const onChange = (e) => {\r\n    setError('')\r\n    setFormData((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.value,\r\n    }))\r\n  }\r\n\r\n  const loginUser = async (email, password) => {\r\n    try {\r\n      const URL = '/api/login'\r\n      // const URL = 'http://localhost:3000/api/login'\r\n      const data = await axios.post(URL, {\r\n        email,\r\n        password,\r\n      })\r\n      return data\r\n    } catch (error) {\r\n      setError(error?.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault()\r\n    if (email === '' || password === '') {\r\n      setError('Please enter all fields')\r\n      return\r\n    }\r\n    const response = await loginUser(email, password)\r\n    if (response?.data?.token) {\r\n      // localStorage.setItem('user', JSON.stringify(response.data))\r\n      setFormData({ email: '', password: '' })\r\n      navigate('/api/dashboard')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <section\r\n        style={{\r\n          boxSizing: 'border-box',\r\n          minHeight: '90vh',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          backgroundColor: '#FAF9F6',\r\n        }}\r\n      >\r\n        <form onSubmit={onSubmit}>\r\n          <Grid\r\n            container\r\n            direction='column'\r\n            alignItems='center'\r\n            justifyContent='center'\r\n            backgroundColor='white'\r\n            sx={{\r\n              width: {\r\n                xs: 350,\r\n                sm: 400,\r\n              },\r\n              height: {\r\n                xs: 500,\r\n                sm: 500,\r\n              },\r\n              boxShadow: 1,\r\n            }}\r\n          >\r\n            <h1>Login</h1>\r\n            <Grid container direction='column' alignItems='center'>\r\n              <Box\r\n                sx={{ display: 'flex', alignItems: 'flex-end', p: 0.5, m: 1 }}\r\n              >\r\n                <EmailIcon sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                <TextField\r\n                  id='input-with-sx1'\r\n                  type='email'\r\n                  label='Email'\r\n                  variant='standard'\r\n                  name='email'\r\n                  value={email}\r\n                  onChange={onChange}\r\n                  sx={{\r\n                    width: {\r\n                      xs: 220,\r\n                      sm: 280,\r\n                    },\r\n                  }}\r\n                />\r\n              </Box>\r\n              <Box\r\n                sx={{ display: 'flex', alignItems: 'flex-end', p: 0.5, m: 1 }}\r\n              >\r\n                <LockIcon sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                <TextField\r\n                  id='input-with-sx'\r\n                  type='password'\r\n                  label='Password'\r\n                  autoComplete='input-with-sx'\r\n                  variant='standard'\r\n                  name='password'\r\n                  value={password}\r\n                  onChange={onChange}\r\n                  sx={{\r\n                    width: {\r\n                      xs: 220,\r\n                      sm: 280,\r\n                    },\r\n                  }}\r\n                />\r\n              </Box>\r\n\r\n              <Button\r\n                type='submit'\r\n                size='medium'\r\n                variant='contained'\r\n                endIcon={<LoginIcon />}\r\n                sx={{ width: 120, mt: 2 }}\r\n                disabled={!email || !password}\r\n              >\r\n                Login{' '}\r\n              </Button>\r\n\r\n              <div\r\n                style={{ height: '20px', marginTop: '0.5rem', color: 'red' }}\r\n              >\r\n                {error}\r\n              </div>\r\n              <div\r\n                style={{\r\n                  width: '100%',\r\n                  textAlign: 'right',\r\n                  marginTop: '1.5rem',\r\n                  fontSize: '0.8rem',\r\n                }}\r\n              >\r\n                <span style={{ paddingRight: '1rem' }}> Forgot Password?</span>\r\n              </div>\r\n              <div style={{ marginTop: '0.5rem' }}>\r\n                Need an account?\r\n                <span\r\n                  style={{\r\n                    paddingLeft: '5px',\r\n                    textDecoration: 'underline',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={(e) => {\r\n                    navigate('/signup')\r\n                  }}\r\n                >\r\n                  SIGN UP\r\n                </span>\r\n                <div\r\n                  style={{\r\n                    fontSize: '14px',\r\n                    marginTop: '1rem',\r\n                    letterSpacing: '1px',\r\n                  }}\r\n                >\r\n                  <p style={{ fontWeight: 'bold' }}>Use demo credentials </p>\r\n                  <div style={{ fontSize: '12px', margin: '5px 0' }}>\r\n                    Email: tom3@gmail.com\r\n                  </div>\r\n                  <div style={{ fontSize: '12px' }}>Password: tom</div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}